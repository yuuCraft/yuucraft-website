<!doctype html>
<html lang="ja" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>自己紹介サイト</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .fade-in {
      animation: fadeIn 0.8s ease-out forwards;
    }
    
    .slide-in {
      animation: slideIn 0.6s ease-out forwards;
    }
    
    .delay-1 {
      animation-delay: 0.1s;
      opacity: 0;
    }
    
    .delay-2 {
      animation-delay: 0.2s;
      opacity: 0;
    }
    
    .delay-3 {
      animation-delay: 0.3s;
      opacity: 0;
    }
    
    .skill-card {
      transition: all 0.3s ease;
    }
    
    .skill-card:hover {
      transform: translateY(-8px);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full w-full overflow-auto">
  <div id="app" class="w-full h-full"></div>
  <script>
    const defaultConfig = {
      background_color: "#0f172a",
      surface_color: "#1e293b",
      text_color: "#f1f5f9",
      primary_action_color: "#3b82f6",
      accent_color: "#8b5cf6",
      font_family: "Noto Sans JP",
      font_size: 16,
      site_title: "田中 太郎",
      tagline: "ウェブデベロッパー & デザイナー",
      intro_heading: "私について",
      intro_text: "こんにちは！私はウェブ開発とデザインに情熱を持つクリエイターです。ユーザー体験を第一に考え、美しく機能的なウェブサイトを作ることが得意です。",
      skills_heading: "スキル",
      skill_1: "HTML & CSS",
      skill_2: "JavaScript",
      skill_3: "UI/UX デザイン",
      contact_heading: "お問い合わせ",
      contact_text: "プロジェクトのご相談やお仕事のご依頼がございましたら、お気軽にご連絡ください。"
    };

    function createApp(config) {
      const baseSize = config.font_size || defaultConfig.font_size;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = 'sans-serif';
      const fontStack = `${customFont}, ${baseFontStack}`;
      
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;

      return `
        <div class="w-full min-h-full" style="background: ${backgroundColor}; color: ${textColor}; font-family: ${fontStack};">
          <!-- Hero Section -->
          <section class="w-full px-6 py-20 fade-in">
            <div class="max-w-4xl mx-auto text-center">
              <div class="inline-block mb-6 px-6 py-2 rounded-full" style="background: ${surfaceColor};">
                <span style="font-size: ${baseSize * 0.9}px; color: ${accentColor}; font-weight: 600;">
                  ${config.tagline || defaultConfig.tagline}
                </span>
              </div>
              <h1 id="site-title" style="font-size: ${baseSize * 3.5}px; font-weight: 800; margin-bottom: 24px; background: linear-gradient(135deg, ${textColor} 0%, ${accentColor} 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                ${config.site_title || defaultConfig.site_title}
              </h1>
              <div class="w-24 h-1 mx-auto rounded-full" style="background: ${primaryColor};"></div>
            </div>
          </section>

          <!-- About Section -->
          <section class="w-full px-6 py-16">
            <div class="max-w-4xl mx-auto">
              <div class="rounded-3xl p-10 slide-in delay-1" style="background: ${surfaceColor};">
                <h2 id="intro-heading" style="font-size: ${baseSize * 2}px; font-weight: 700; margin-bottom: 20px; color: ${textColor};">
                  ${config.intro_heading || defaultConfig.intro_heading}
                </h2>
                <p id="intro-text" style="font-size: ${baseSize * 1.1}px; line-height: 1.8; color: ${textColor}; opacity: 0.9;">
                  ${config.intro_text || defaultConfig.intro_text}
                </p>
              </div>
            </div>
          </section>

          <!-- Skills Section -->
          <section class="w-full px-6 py-16">
            <div class="max-w-4xl mx-auto">
              <h2 id="skills-heading" class="slide-in delay-2" style="font-size: ${baseSize * 2}px; font-weight: 700; margin-bottom: 32px; text-align: center; color: ${textColor};">
                ${config.skills_heading || defaultConfig.skills_heading}
              </h2>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="skill-card rounded-2xl p-8 text-center slide-in delay-1" style="background: ${surfaceColor};">
                  <div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center" style="background: ${primaryColor};">
                    <svg class="w-8 h-8" style="color: ${textColor};" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                    </svg>
                  </div>
                  <h3 id="skill-1" style="font-size: ${baseSize * 1.2}px; font-weight: 600; color: ${textColor};">
                    ${config.skill_1 || defaultConfig.skill_1}
                  </h3>
                </div>
                <div class="skill-card rounded-2xl p-8 text-center slide-in delay-2" style="background: ${surfaceColor};">
                  <div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center" style="background: ${primaryColor};">
                    <svg class="w-8 h-8" style="color: ${textColor};" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                  </div>
                  <h3 id="skill-2" style="font-size: ${baseSize * 1.2}px; font-weight: 600; color: ${textColor};">
                    ${config.skill_2 || defaultConfig.skill_2}
                  </h3>
                </div>
                <div class="skill-card rounded-2xl p-8 text-center slide-in delay-3" style="background: ${surfaceColor};">
                  <div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center" style="background: ${primaryColor};">
                    <svg class="w-8 h-8" style="color: ${textColor};" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path>
                    </svg>
                  </div>
                  <h3 id="skill-3" style="font-size: ${baseSize * 1.2}px; font-weight: 600; color: ${textColor};">
                    ${config.skill_3 || defaultConfig.skill_3}
                  </h3>
                </div>
              </div>
            </div>
          </section>

          <!-- Contact Section -->
          <section class="w-full px-6 py-20">
            <div class="max-w-2xl mx-auto text-center slide-in delay-3">
              <h2 id="contact-heading" style="font-size: ${baseSize * 2}px; font-weight: 700; margin-bottom: 16px; color: ${textColor};">
                ${config.contact_heading || defaultConfig.contact_heading}
              </h2>
              <p id="contact-text" style="font-size: ${baseSize * 1.1}px; margin-bottom: 32px; color: ${textColor}; opacity: 0.9;">
                ${config.contact_text || defaultConfig.contact_text}
              </p>
              <a href="mailto:contact@example.com" target="_blank" rel="noopener noreferrer" class="inline-block px-10 py-4 rounded-full font-semibold transition-all duration-300" style="background: ${primaryColor}; color: ${textColor}; font-size: ${baseSize * 1.1}px; text-decoration: none;" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 40px rgba(59, 130, 246, 0.3)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none';">
                メールを送る
              </a>
            </div>
          </section>

          <!-- Footer -->
          <footer class="w-full px-6 py-8 text-center" style="border-top: 1px solid ${surfaceColor};">
            <p style="font-size: ${baseSize * 0.9}px; color: ${textColor}; opacity: 0.6;">
              © 2024 ${config.site_title || defaultConfig.site_title}. All rights reserved.
            </p>
          </footer>
        </div>
      `;
    }

    async function onConfigChange(config) {
      const app = document.getElementById('app');
      if (app) {
        app.innerHTML = createApp(config);
      }
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => {
              config.surface_color = value;
              window.elementSdk.setConfig({ surface_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => config.primary_action_color || defaultConfig.primary_action_color,
            set: (value) => {
              config.primary_action_color = value;
              window.elementSdk.setConfig({ primary_action_color: value });
            }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => {
              config.accent_color = value;
              window.elementSdk.setConfig({ accent_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            window.elementSdk.setConfig({ font_size: value });
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["site_title", config.site_title || defaultConfig.site_title],
        ["tagline", config.tagline || defaultConfig.tagline],
        ["intro_heading", config.intro_heading || defaultConfig.intro_heading],
        ["intro_text", config.intro_text || defaultConfig.intro_text],
        ["skills_heading", config.skills_heading || defaultConfig.skills_heading],
        ["skill_1", config.skill_1 || defaultConfig.skill_1],
        ["skill_2", config.skill_2 || defaultConfig.skill_2],
        ["skill_3", config.skill_3 || defaultConfig.skill_3],
        ["contact_heading", config.contact_heading || defaultConfig.contact_heading],
        ["contact_text", config.contact_text || defaultConfig.contact_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });

      const app = document.getElementById('app');
      if (app) {
        app.innerHTML = createApp(window.elementSdk.config);
      }
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c8759cc134e9160',t:'MTc3MDE3ODU2Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
